"use strict";(self.webpackChunkproject_5_frontend=self.webpackChunkproject_5_frontend||[]).push([[690],{9321:function(e,a,s){s.d(a,{u:function(){return c}});var r=s(2791),n=s(4164),t="Modal_overlay__r63M6",o="Modal_modalContainer__QjqZb",i=s(184),l=document.querySelector("#modal-root"),c=function(e){var a=e.children,s=e.onClose;(0,r.useEffect)((function(){var e=function(e){"Escape"===e.code&&s()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[s]);return(0,n.createPortal)((0,i.jsx)("div",{className:t,onClick:function(e){e.currentTarget===e.target&&s()},children:(0,i.jsx)("div",{className:o,children:a})}),l)}},7690:function(e,a,s){s.r(a),s.d(a,{default:function(){return X}});var r=s(9439),n=s(5705),t=s(8007),o="UserForm_avatarContainerLoader__GUcsU",i="UserForm_userContainer__IaCpu",l="UserForm_userForm__bdjR0",c="UserForm_avararLabel__P622o",d="UserForm_avatarInput__1E9H9",m="UserForm_avatarContainer__Lz5Hn",u="UserForm_plusInBorder__TQenP",h="UserForm_avatarImage__BmCLH",p="UserForm_avatarUserName__v0jQ4",_="UserForm_avatarUserType__TR-vD",f="UserForm_inputPrimaryWrapper__FbIph",j="UserForm_inputFirstWrapper__rkQjk",y="UserForm_inputSecondWrapper__v0vOo",x="UserForm_userLabel__Fc13w",v="UserForm_userInput__whN+t",w="UserForm_submitBtn__jiWiq",N=s(9434),b=s(4396),g=s(6476),F=s(2426),U=s.n(F),k=s(5264),C=s(1421),P=s(8820),S=s(2791),B="SetPasswordBtn_passwordBtn__Mu2Cb",E=s(9321),L=(s(5991),s(1213)),M="PasswordForm_formContainer__uPXYd",Z="PasswordForm_formLabel__FBWcG",I="PasswordForm_formInput__kv4RZ",Y="PasswordForm_formErrorMessage__eX3w8",q="PasswordForm_formMainButtons__x+fE9",W="PasswordForm_submitBtn__FbS-N",z="PasswordForm_cancelBtn__H8j8P",R="PasswordForm_cancelCrossBtn__cW2yJ",D="PasswordForm_iconClose__2xPfM",H="PasswordForm_editBtnWrapper__d2n7n",K="PasswordForm_formInputWrap__PQNGg",Q=s(184),T=t.Ry().shape({password:t.Z_().min(6,"Please Enter more than 6 characters.").required("Password is required")}),A=function(e){var a=e.onClose,s=(0,N.I0)();return(0,Q.jsx)(n.J9,{initialValues:{password:""},onSubmit:function(e,r){var n=e.password;console.log(n),s((0,g.I0)(n)).then((function(e){"user/patchPassword/fulfilled"===e.type?k.Notify.info("New password has been set."):"user/patchPassword/rejected"===e.type&&k.Notify.failure("Something went wrong, "+e.payload),a()})).catch((function(e){k.Notify.failure("Something went wrong, "+e.message),a()}))},validationSchema:T,children:function(e){e.values;return(0,Q.jsx)("div",{className:M,children:(0,Q.jsxs)(n.l0,{children:[(0,Q.jsx)("div",{className:H,children:(0,Q.jsx)("label",{className:Z,htmlFor:"password",children:"Set password"})}),(0,Q.jsxs)("div",{className:K,children:[(0,Q.jsx)(n.gN,{className:I,type:"password",name:"password",id:"password",placeholder:"Enter password",component:"input"}),(0,Q.jsx)(n.Bc,{className:Y,name:"password",component:"div"})]}),(0,Q.jsxs)("div",{className:q,children:[(0,Q.jsx)("button",{className:W,type:"submit",children:"Save"}),(0,Q.jsx)("button",{className:z,type:"button",onClick:a,children:"Cancel"})]}),(0,Q.jsx)("button",{className:R,type:"button","aria-label":"close button",onClick:a,children:(0,Q.jsx)(L.ySC,{className:D,style:{width:24,height:24}})})]})})}})},G=function(e){var a=e.onClose;return(0,Q.jsx)(E.u,{onClose:a,children:(0,Q.jsx)(A,{onClose:a})})},J=function(){var e=(0,S.useState)(!1),a=(0,r.Z)(e,2),s=a[0],n=a[1];return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("button",{className:B,type:"button",onClick:function(){n(!0)},children:"set\xa0password"}),s&&(0,Q.jsx)(G,{onClose:function(){return n(!1)},isOpenModal:s})]})},V=t.Ry().shape({name:t.Z_().max(16,"Length must be less then 16").required("Your name is required"),email:t.Z_().email(/^[a-z].+([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z]+[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/,"Invalid e-mail").required("Your e-mail is required"),birthday:t.Z_().nullable(),phone:t.Z_().matches(/^\+380\d{9}$/,"Enter your phone number in format +380123456789").nullable().required(),skype:t.Z_().max(16,"Length must be less then 16").nullable()}),$=function(){var e=(0,N.I0)(),a=(0,N.v9)(b.dy),s=(0,S.useState)(!1),t=(0,r.Z)(s,2),F=t[0],B=t[1],E=(0,S.useState)(!1),L=(0,r.Z)(E,2),M=L[0],Z=L[1],I=(0,S.useState)(!0),Y=(0,r.Z)(I,2),q=Y[0],W=Y[1],z="";a.birthday&&(z=U()(a.birthday).format("YYYY-MM-DD"));var R=U()().format("YYYY-MM-DD"),D={name:a.name||"",birthday:z,email:a.email||"",phone:a.phone?"+"+a.phone:"",skype:a.skype||""},H=/\w.+@gmail.com$/.test(null===a||void 0===a?void 0:a.email),K=function(){W(!1)};return(0,Q.jsx)("div",{children:(0,Q.jsx)(n.J9,{initialValues:D,onSubmit:function(a){Z(!0),e((0,g.uz)(a)).then((function(e){Z(!1),"user/edit/fulfilled"===e.type?k.Notify.success("Your profile has been updated successfully."):"user/edit/rejected"===e.type&&k.Notify.failure("Something went wrong, "+e.payload),W(!0)})).catch((function(e){k.Notify.failure("Something went wrong, "+e.message)}))},validationSchema:V,children:(0,Q.jsxs)("div",{className:i,children:[(0,Q.jsx)("div",{className:m,children:F?(0,Q.jsx)("div",{className:o,children:(0,Q.jsx)(C.Z,{absolute:!0})}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)("label",{className:c,children:[(0,Q.jsx)("input",{type:"file",name:"ava",onChange:function(a){B(!0);var s=a.target.files[0];e((0,g.bj)(s)).then((function(e){B(!1),"user/patchAvatar/fulfilled"===e.type?k.Notify.success("Your avatar has been updated successfully."):"user/patchAvatar/rejected"===e.type&&k.Notify.failure("Something went wrong, try again or upload another image.")})).catch((function(e){k.Notify.failure("Something went wrong, "+e.message)}))},className:d,title:"Add new image!"}),(0,Q.jsxs)("svg",{className:u,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:[(0,Q.jsx)("path",{d:"M9 3.75V14.25",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Q.jsx)("path",{d:"M3.75 9H14.25",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),a.avatarURL?(0,Q.jsx)("img",{src:a.avatarURL,alt:"avatar",width:"120",height:"120",className:h}):(0,Q.jsx)(P.nf1,{className:h,style:{color:"#3E85F32E",padding:"35px"}})]})}),(0,Q.jsx)("h2",{className:p,children:a.name||"User"}),(0,Q.jsx)("p",{className:_,children:"User"}),(0,Q.jsxs)(n.l0,{className:l,autoComplete:"off",children:[(0,Q.jsxs)("div",{className:f,children:[(0,Q.jsxs)("div",{className:j,children:[(0,Q.jsxs)("label",{className:x,children:["User Name",(0,Q.jsx)(n.gN,{className:v,type:"text",name:"name",id:"name",placeholder:"Enter your name",onKeyUp:K}),(0,Q.jsx)(n.Bc,{name:"name",component:"div"})]}),(0,Q.jsxs)("label",{className:x,children:["Birthday",(0,Q.jsx)(n.gN,{className:v,type:"date",name:"birthday",max:R,min:"1900-01-01",id:"birthday",placeholder:"Enter your birthday",lang:"en-US",onKeyUp:K}),(0,Q.jsx)(n.Bc,{name:"birthday",component:"div"})]}),(0,Q.jsxs)("label",{className:x,children:["Email ",H&&(0,Q.jsx)(J,{}),(0,Q.jsx)(n.gN,{className:v,type:"email",name:"email",id:"email",placeholder:"Enter your name",onKeyUp:K}),(0,Q.jsx)(n.Bc,{name:"email",component:"div"})]})]}),(0,Q.jsxs)("div",{className:y,children:[(0,Q.jsxs)("label",{className:x,children:["Phone",(0,Q.jsx)(n.gN,{className:v,type:"tel",name:"phone",placeholder:"+380",onKeyUp:K}),(0,Q.jsx)(n.Bc,{name:"phone",component:"div"})]}),(0,Q.jsxs)("label",{className:x,children:["Skype",(0,Q.jsx)(n.gN,{className:v,type:"text",name:"skype",placeholder:"Enter your Skype",onKeyUp:K}),(0,Q.jsx)(n.Bc,{name:"skype",component:"div"})]})]})]}),(0,Q.jsx)("button",{disabled:!!q||"",className:w,type:"submit",children:"Save Changes"}),M&&(0,Q.jsx)(C.Z,{absolute:!0})]})]})})})},O=s(5122),X=function(){var e=(0,N.I0)();return(0,S.useEffect)((function(){e((0,O.l)("User Profile"))}),[e]),(0,Q.jsx)("div",{className:"accountPage",children:(0,Q.jsx)($,{})})}},5991:function(){}}]);
//# sourceMappingURL=690.5f5af775.chunk.js.map